using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.Linq;
using System.Text;

namespace string_builder_demo
{
    class Program
    {
        public class Person
        {
            public string FirstName { get; set; }
            public string LastName { get; set; }

            public Person(string firstName, string lastName)
            {
                Console.WriteLine("Creating a person");
                PersonCounter += 1;
                FirstName = firstName;
                LastName = lastName;
            }

            public override string ToString()
            {
                return $"{FirstName} {LastName}";
            }
        }

        static int PersonCounter = 0;

        static void Main(string[] args)
        {
            var names = new string[] { "Mila", "Nova", "Kai", "Aaliyah", "Braxton", "Zion", "Maeve", "Mia", "Ivy", "Luca", "Urban", "Aria", "Aurora", "Kayden", "Eliana", "Hunter", "Amelia", "Amara", "Lyla", "Quinn", "Atlas", "Elliot", "Lucas", "Alice", "Parker", "Avery", "River", "Noelle", "Skylar", "Hayden", "Alaina", "Zoey", "Millie", "Liam", "Remi", "Logan", "Shia", "Molly", "Riley", "Ezra", "Reese", "Asher", "Jude", "Isla", "Olivia", "Ava", "Malia", "Jalen", "Luna", "Isabella", "Asa", "Rowan", "Mya", "Evan", "Arlo", "Zane", "Arabella", "Grayson", "Savannah", "Thea", "Leilani", "Milo", "Jasmine", "Harper", "Sloan", "Oliver", "Rhea", "Hudson", "Arden", "Axel", "Evie", "Maverick", "Kian", "Leo", "Charlotte", "Alyssa", "Louise", "Mateo", "Amaya", "Landon", "Zayne", "Sahil", "Alani", "Noah", "Ariella", "Xavier", "Willow", "Gigi", "Alina", "Finn", "Miles", "Levi", "Nora", "Lennox", "Dior", "Remington", "Zara", "Maya", "Josie", "Alana", "Ayla", "Rayne", "Adeline", "Delilah", "Chloe", "Ximena", "Owen", "Ethan", "Bailey", "Aliyah", "Rohan", "Adonis", "Hadley", "Elias", "Emma", "Wyatt", "Tiana", "Austin", "Caleb", "Sydney", "Sophia", "Ace", "Addison", "Adriel", "Everett", "Elijah", "Madison", "Penelope", "Wren", "Zia", "Kailani", "Xyla", "Nia", "Rhys", "Brielle", "Elaine", "Naomi", "August", "Stella", "Jayden", "Theodore", "Genevieve", "Hannah", "Octavia", "Atticus", "Layla", "Rory", "Valerie", "Willa", "Adira", "Juliana", "Penny", "Alexander", "Jade", "Margot", "Ira", "Grace", "Sage", "Abigail", "Ashton", "Maira", "Jocelyn", "Cairo", "Eleanor", "Jasper", "Ari", "Audrey", "Ella", "Myra", "Alex", "Huxley", "Nancy", "Henry", "Everly", "Eloise", "Nevaeh", "Benjamin", "Mabel", "Leia", "Javier", "Bella", "Jolene", "Rai", "Azariah", "Rylee", "Josiah", "Veda", "Keilani", "Leah", "Lily", "Scarlett", "Zuri", "Gianna", "Adalyn", "Aurelia", "Aaron", "Ada", "Roman", "Mina", "Nyla", "Enzo", "Anna", "Iva", "Skyler", "Ariana", "Kyra", "Nolan", "Ellie", "Andrea", "Liana", "Otis", "Silas", "Keanu", "Lachlan", "Nalani", "Ryder", "Finley", "Annalise", "Aleena", "Zola", "Michael", "Harlow", "Morgan", "Flora", "Paxton", "Giselle", "Zoe", "Kaiden", "Kali", "Jaxon", "Elise", "Jace", "Marcus", "Jaylen", "Micah", "Zeke", "Archer", "Ronan", "Camila", "Ophelia", "Alaia", "Nathan", "Aviel", "Sienna", "Ryan", "Brayden", "Yana", "Dillon", "Emery", "Lola", "Reyna", "Bennett", "Myla", "Jesse", "Winifred", "Saoirse", "Adaline", "Kye", "Emerson", "Amir", "Athena", "Armani", "Orion", "Skyla", "Holden", "William", "Zavier", "Anastasia", "Mika", "Camden", "Arianna", "Joelle", "Ayden", "Sebastian", "Madeline", "Callie", "Amira", "Maxwell", "Vera", "Emilia", "Cali", "Ayana", "Quincy", "Avi", "Callan", "Kalia", "Bria", "Collin", "Lyra", "Elizabeth", "Chase", "Sawyer", "Josephine", "Adrian", "Elian", "Lila", "Sadie", "Zahir", "Kalani", "Jack", "Elena", "Khadijah", "Raiden", "Juno", "Killian", "Kylan", "Sofia", "October", "Violet", "Lorenzo", "Rosie", "Dante", "Freya", "Lorraine", "Margaret", "Gia", "Hope", "James", "Kieran", "Azalea", "Aiden", "Camille", "Autumn", "Rayna", "Lainey", "Nyah", "Arthur", "Carter", "Lucy", "Tessa", "Emily", "Kora", "Isaac", "Dakota", "Sloane", "Declan", "Alden", "Cameron", "Orin", "Ryker", "Malachi", "John", "Xander", "Rafael", "Zaria", "Charlie", "Jax", "Tyson", "Sunny", "Lincoln", "Lauren", "Caiden", "Scout", "Briar", "Colby", "Jacob", "Justin", "Elyse", "Julian", "Felix", "Cora", "Pia", "Blake", "Lillian", "Cruz", "Kyler", "Marley", "Colton", "Maleah", "Ronin", "Makenzie", "Presley", "Andrew", "Terry", "Samuel", "Brianna", "Julia", "Alan", "Jenny", "Natalie", "Daniel", "Nola", "Ellis", "Melody", "Braelyn", "Ailani", "Jensen", "Nya", "Matthew", "Raina", "Rylan", "Clara", "Maren", "Lyric", "Raelynn", "Marie", "Alisa", "Lilith", "Zander", "Devin", "Adelyn", "Makai", "Ren", "Lorelei", "Cole", "Santiago", "Sasha", "Valkyrie", "Rhett", "Cooper", "Leland", "Zachary", "Victoria", "Yara", "Nell", "Ryland", "Oren", "Anya", "Keaton", "Samara", "Rose", "Brooks", "Aubree", "Shelby", "Phoenix", "Anthony", "Saisha", "Davina", "Lucia", "Christopher", "Nirvan", "Joel", "Renzo", "Amora", "Masha", "Reece", "Daisy", "Evelyn", "Odette", "Jackson", "Cindy", "Kayleigh", "Beau", "Blakely", "Blair", "David", "Olive", "Giovanni", "Barrett", "Claire", "Romy", "Thomas", "Khari", "Creed", "Gemma", "Alexandra", "Cecilia", "Kylie", "Zena", "Jayce", "Joshua", "Gabriella", "Mckenzie", "Kiara", "Luke", "Greyson", "Beckett", "Knox", "Bodie", "Allie", "Laurel", "Jameson", "Liya", "Emmett", "Amelie", "Cayden", "Sierra", "Leon", "Lottie", "Winston", "Blaine", "Elsie", "Maci", "Ivan", "Milan", "Talia", "Theo", "Raelyn", "Amy", "Jane", "Nellie", "Gavin", "Sarah", "Sapphire", "Iris", "Maximus", "Mikayla", "Celeste", "Jayda", "Darren" };
            var lastNames = new string[] { "Smith", "Johnson", "Williams", "Jones", "Brown", "Davis", "Miller", "Wilson", "Moore", "Taylor", "Anderson", "Thomas", "Jackson", "White", "Harris", "Martin", "Thompson", "Garcia", "Martinez", "Robinson", "Clark", "Rodriguez", "Lewis", "Lee", "Walker", "Hall", "Allen", "Young", "Hernandez", "King", "Wright", "Lopez", "Hill", "Scott", "Green", "Adams", "Baker", "Gonzalez", "Nelson", "Carter", "Mitchell", "Perez", "Roberts", "Turner", "Phillips", "Campbell", "Parker", "Evans", "Edwards", "Collins", "Stewart", "Sanchez", "Morris", "Rogers", "Reed", "Cook", "Morgan", "Bell", "Murphy", "Bailey", "Rivera", "Cooper", "Richardson", "Cox", "Howard", "Ward", "Torres", "Peterson", "Gray", "Ramirez", "James", "Watson", "Brooks", "Kelly", "Sanders", "Price", "Bennett", "Wood", "Barnes", "Ross", "Henderson", "Coleman", "Jenkins", "Perry", "Powell", "Long", "Patterson", "Hughes", "Flores", "Washington", "Butler", "Simmons", "Foster", "Gonzales", "Bryant", "Alexander", "Russell", "Griffin", "Diaz", "Hayes", "Myers", "Ford", "Hamilton", "Graham", "Sullivan", "Wallace", "Woods", "Cole", "West", "Jordan", "Owens", "Reynolds", "Fisher", "Ellis", "Harrison", "Gibson", "Mcdonald", "Cruz", "Marshall", "Ortiz", "Gomez", "Murray", "Freeman", "Wells", "Webb", "Simpson", "Stevens", "Tucker", "Porter", "Hunter", "Hicks", "Crawford", "Henry", "Boyd", "Mason", "Morales", "Kennedy", "Warren", "Dixon", "Ramos", "Reyes", "Burns", "Gordon", "Shaw", "Holmes", "Rice", "Robertson", "Hunt", "Black", "Daniels", "Palmer", "Mills", "Nichols", "Grant", "Knight", "Ferguson", "Rose", "Stone", "Hawkins", "Dunn", "Perkins", "Hudson", "Spencer", "Gardner", "Stephens", "Payne", "Pierce", "Berry", "Matthews", "Arnold", "Wagner", "Willis", "Ray", "Watkins", "Olson", "Carroll", "Duncan", "Snyder", "Hart", "Cunningham", "Bradley", "Lane", "Andrews", "Ruiz", "Harper", "Fox", "Riley", "Armstrong", "Carpenter", "Weaver", "Greene", "Lawrence", "Elliott", "Chavez", "Sims", "Austin", "Peters", "Kelley", "Franklin", "Lawson", "Fields", "Gutierrez", "Ryan", "Schmidt", "Carr", "Vasquez", "Castillo", "Wheeler", "Chapman", "Oliver", "Montgomery", "Richards", "Williamson", "Johnston", "Banks", "Meyer", "Bishop", "Mccoy", "Howell", "Alvarez", "Morrison", "Hansen", "Fernandez", "Garza", "Harvey", "Little", "Burton", "Stanley", "Nguyen", "George", "Jacobs", "Reid", "Kim", "Fuller", "Lynch", "Dean", "Gilbert", "Garrett", "Romero", "Welch", "Larson", "Frazier", "Burke", "Hanson", "Day", "Mendoza", "Moreno", "Bowman", "Medina", "Fowler", "Brewer", "Hoffman", "Carlson", "Silva", "Pearson", "Holland", "Douglas", "Fleming", "Jensen", "Vargas", "Byrd", "Davidson", "Hopkins", "May", "Terry", "Herrera", "Wade", "Soto", "Walters", "Curtis", "Neal", "Caldwell", "Lowe", "Jennings", "Barnett", "Graves", "Jimenez", "Horton", "Shelton", "Barrett", "Obrien", "Castro", "Sutton", "Gregory", "Mckinney", "Lucas", "Miles", "Craig", "Rodriquez", "Chambers", "Holt", "Lambert", "Fletcher", "Watts", "Bates", "Hale", "Rhodes", "Pena", "Beck", "Newman", "Haynes", "Mcdaniel", "Mendez", "Bush", "Vaughn", "Parks", "Dawson", "Santiago", "Norris", "Hardy", "Love", "Steele", "Curry", "Powers", "Schultz", "Barker", "Guzman", "Page", "Munoz", "Ball", "Keller", "Chandler", "Weber", "Leonard", "Walsh", "Lyons", "Ramsey", "Wolfe", "Schneider", "Mullins", "Benson", "Sharp", "Bowen", "Daniel", "Barber", "Cummings", "Hines", "Baldwin", "Griffith", "Valdez", "Hubbard", "Salazar", "Reeves", "Warner", "Stevenson", "Burgess", "Santos", "Tate", "Cross", "Garner", "Mann", "Mack", "Moss", "Thornton", "Dennis", "Mcgee", "Farmer", "Delgado", "Aguilar", "Vega", "Glover", "Manning", "Cohen", "Harmon", "Rodgers", "Robbins", "Newton", "Todd", "Blair", "Higgins", "Ingram", "Reese", "Cannon", "Strickland", "Townsend", "Potter", "Goodwin", "Walton", "Rowe", "Hampton", "Ortega", "Patton", "Swanson", "Joseph", "Francis", "Goodman", "Maldonado", "Yates", "Becker", "Erickson", "Hodges", "Rios", "Conner", "Adkins", "Webster", "Norman", "Malone", "Hammond", "Flowers", "Cobb", "Moody", "Quinn", "Blake", "Maxwell", "Pope", "Floyd", "Osborne", "Paul", "Mccarthy", "Guerrero", "Lindsey", "Estrada", "Sandoval", "Gibbs", "Tyler", "Gross", "Fitzgerald", "Stokes", "Doyle", "Sherman", "Saunders", "Wise", "Colon", "Gill", "Alvarado", "Greer", "Padilla", "Simon", "Waters", "Nunez", "Ballard", "Schwartz", "Mcbride", "Houston", "Christensen", "Klein", "Pratt", "Briggs", "Parsons", "Mclaughlin", "Zimmerman", "French", "Buchanan", "Moran", "Copeland", "Roy", "Pittman", "Brady", "Mccormick", "Holloway", "Brock", "Poole", "Frank", "Logan", "Owen", "Bass", "Marsh", "Drake", "Wong", "Jefferson", "Park", "Morton", "Abbott", "Sparks", "Patrick", "Norton", "Huff", "Clayton", "Massey", "Lloyd", "Figueroa", "Carson", "Bowers", "Roberson", "Barton", "Tran", "Lamb", "Harrington", "Casey", "Boone", "Cortez", "Clarke", "Mathis", "Singleton", "Wilkins", "Cain", "Bryan", "Underwood", "Hogan", "Mckenzie", "Collier", "Luna", "Phelps", "Mcguire", "Allison", "Bridges", "Wilkerson", "Nash", "Summers", "Atkins", "Wilcox", "Pitts", "Conley", "Marquez", "Burnett", "Richard", "Cochran", "Chase", "Davenport", "Hood", "Gates", "Clay", "Ayala", "Sawyer", "Roman", "Vazquez", "Dickerson", "Hodge", "Acosta", "Flynn", "Espinoza", "Nicholson", "Monroe", "Wolf", "Morrow", "Kirk", "Randall", "Anthony", "Whitaker", "Oconnor", "Skinner", "Ware", "Molina", "Kirby", "Huffman", "Bradford", "Charles", "Gilmore", "Dominguez", "Oneal", "Bruce", "Lang", "Combs", "Kramer", "Heath", "Hancock", "Gallagher", "Gaines", "Shaffer", "Short", "Wiggins", "Mathews", "Mcclain", "Fischer", "Wall", "Small", "Melton", "Hensley", "Bond", "Dyer", "Cameron", "Grimes", "Contreras", "Christian", "Wyatt", "Baxter", "Snow", "Mosley", "Shepherd", "Larsen", "Hoover", "Beasley", "Glenn", "Petersen", "Whitehead", "Meyers", "Keith", "Garrison", "Vincent", "Shields", "Horn", "Savage", "Olsen", "Schroeder", "Hartman", "Woodard", "Mueller", "Kemp", "Deleon", "Booth", "Patel", "Calhoun", "Wiley", "Eaton", "Cline", "Navarro", "Harrell", "Lester", "Humphrey", "Parrish", "Duran", "Hutchinson", "Hess", "Dorsey", "Bullock", "Robles", "Beard", "Dalton", "Avila", "Vance", "Rich", "Blackwell", "York", "Johns", "Blankenship", "Trevino", "Salinas", "Campos", "Pruitt", "Moses", "Callahan", "Golden", "Montoya", "Hardin", "Guerra", "Mcdowell", "Carey", "Stafford", "Gallegos", "Henson", "Wilkinson", "Booker", "Merritt", "Miranda", "Atkinson", "Orr", "Decker", "Hobbs", "Preston", "Tanner", "Knox", "Pacheco", "Stephenson", "Glass", "Rojas", "Serrano", "Marks", "Hickman", "English", "Sweeney", "Strong", "Prince", "Mcclure", "Conway", "Walter", "Roth", "Maynard", "Farrell", "Lowery", "Hurst", "Nixon", "Weiss", "Trujillo", "Ellison", "Sloan", "Juarez", "Winters", "Mclean", "Randolph", "Leon", "Boyer", "Villarreal", "Mccall", "Gentry", "Carrillo", "Kent", "Ayers", "Lara", "Shannon", "Sexton", "Pace", "Hull", "Leblanc", "Browning", "Velasquez", "Leach", "Chang", "House", "Sellers", "Herring", "Noble", "Foley", "Bartlett", "Mercado", "Landry", "Durham", "Walls", "Barr", "Mckee", "Bauer", "Rivers", "Everett", "Bradshaw", "Pugh", "Velez", "Rush", "Estes", "Dodson", "Morse", "Sheppard", "Weeks", "Camacho", "Bean", "Barron", "Livingston", "Middleton", "Spears", "Branch", "Blevins", "Chen", "Kerr", "Mcconnell", "Hatfield", "Harding", "Ashley", "Solis", "Herman", "Frost", "Giles", "Blackburn", "William", "Pennington", "Woodward", "Finley", "Mcintosh", "Koch", "Best", "Solomon", "Mccullough", "Dudley", "Nolan", "Blanchard", "Rivas", "Brennan", "Mejia", "Kane", "Benton", "Joyce", "Buckley", "Haley", "Valentine", "Maddox", "Russo", "Mcknight", "Buck", "Moon", "Mcmillan", "Crosby", "Berg", "Dotson", "Mays", "Roach", "Church", "Chan", "Richmond", "Meadows", "Faulkner", "Oneill", "Knapp", "Kline", "Barry", "Ochoa", "Jacobson", "Gay", "Avery", "Hendricks", "Horne", "Shepard", "Hebert", "Cherry", "Cardenas", "Mcintyre", "Whitney", "Waller", "Holman", "Donaldson", "Cantu", "Terrell", "Morin", "Gillespie", "Fuentes", "Tillman", "Sanford", "Bentley", "Peck", "Key", "Salas", "Rollins", "Gamble", "Dickson", "Battle", "Santana", "Cabrera", "Cervantes", "Howe", "Hinton", "Hurley", "Spence", "Zamora", "Yang", "Mcneil", "Suarez", "Case", "Petty", "Gould", "Mcfarland", "Sampson", "Carver", "Bray", "Rosario", "Macdonald", "Stout", "Hester", "Melendez", "Dillon", "Farley", "Hopper", "Galloway", "Potts", "Bernard", "Joyner", "Stein", "Aguirre", "Osborn", "Mercer", "Bender", "Franco", "Rowland", "Sykes", "Benjamin", "Travis", "Pickett", "Crane", "Sears", "Mayo", "Dunlap", "Hayden", "Wilder", "Mckay", "Coffey", "Mccarty", "Ewing", "Cooley", "Vaughan", "Bonner", "Cotton", "Holder", "Stark", "Ferrell", "Cantrell", "Fulton", "Lynn", "Lott", "Calderon", "Rosa", "Pollard", "Hooper", "Burch", "Mullen", "Fry", "Riddle", "Levy", "David", "Duke", "Odonnell", "Guy", "Michael", "Britt", "Frederick", "Daugherty", "Berger", "Dillard", "Alston", "Jarvis", "Frye", "Riggs", "Chaney", "Odom", "Duffy", "Fitzpatrick", "Valenzuela", "Merrill", "Mayer", "Alford", "Mcpherson", "Acevedo", "Donovan", "Barrera", "Albert", "Cote", "Reilly", "Compton", "Raymond", "Mooney", "Mcgowan", "Craft", "Cleveland", "Clemons", "Wynn", "Nielsen", "Baird", "Stanton", "Snider", "Rosales", "Bright", "Witt", "Stuart", "Hays", "Holden", "Rutledge", "Kinney", "Clements", "Castaneda", "Slater", "Hahn", "Emerson", "Conrad", "Burks", "Delaney", "Pate", "Lancaster", "Sweet", "Justice", "Tyson", "Sharpe", "Whitfield", "Talley", "Macias", "Irwin", "Burris", "Ratliff", "Mccray", "Madden", "Kaufman", "Beach", "Goff", "Cash", "Bolton", "Mcfadden", "Levine", "Good", "Byers", "Kirkland", "Kidd", "Workman", "Carney", "Dale", "Mcleod", "Holcomb", "England", "Finch", "Head", "Burt", "Hendrix", "Sosa", "Haney", "Franks", "Sargent", "Nieves", "Downs", "Rasmussen", "Bird", "Hewitt", "Lindsay", "Le", "Foreman", "Valencia", "Oneil", "Delacruz", "Vinson", "Dejesus", "Hyde", "Forbes", "Gilliam", "Guthrie", "Wooten", "Huber", "Barlow", "Boyle", "Mcmahon", "Buckner", "Rocha", "Puckett", "Langley", "Knowles", "Cooke", "Velazquez", "Whitley", "Noel", "Vang" };

            //var persons = new List<Person>();
            //foreach (var name in names.Take(10))
            //{
            //    foreach (var surname in lastNames.Take(10))
            //    {
            //        var person = new Person(name, surname);
            //        persons.Add(person);
            //    }
            //}

            var personsStatement = from name in names.Take(10)
                                   from lastName in lastNames.Take(10)
                                   select new Person(name, lastName);

            personsStatement = personsStatement.Where(p => p.FirstName.Length == 3);

            Console.WriteLine("ALL PERSONS still not created");

            var persons = personsStatement.ToList();

            Console.WriteLine("Created ALL PERSONS");

            Stopwatch sw = Stopwatch.StartNew();
            string resultOne = string.Empty;
            foreach (var person in persons)
            {
                resultOne += $"{person}\n";
            }
            sw.Stop();

            Console.WriteLine(resultOne.Length);
            Console.WriteLine(sw.ElapsedMilliseconds);

            sw = Stopwatch.StartNew();
            StringBuilder sb = new StringBuilder();
            foreach (var person in persons)
            {
                sb.Append($"{person}\n");
            }
            var resultTwo = sb.ToString();
            sw.Stop();
            Console.WriteLine(resultTwo.Length);
            Console.WriteLine(sw.ElapsedMilliseconds);

            Console.WriteLine($"We have created a total of {PersonCounter} persons");

        }
    }
}
